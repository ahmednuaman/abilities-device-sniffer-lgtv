<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>LG Device Sniffer</title>
<style>
    html,
    body {
        background: #ffffff;
    }
</style>
</head>
<body onload="initTest()">
    <object type="application/x-netcast-info" id="device" width="0" height="0"></object>
    <form action="http://ab.iliti.es/index.php" id="test-form" method="post">
        <input type="hidden" id="test-device-id" name="device_id">
        <input type="hidden" id="test-user-agent" name="user_agent">
        <!-- <input type="text" id="test-autorun" name="autorun" value="1"> -->
    </form>
    <script>
        function initTest()
        {
            var device = document.getElementById('device');
            var form = document.getElementById('test-form');
            var deviceIdInput = document.getElementById('test-device-id');
            var userAgentInput = document.getElementById('test-user-agent');
            var deviceId;

            if (device)
            {
                // ermagad
                deviceId = '{' +
                    '"platform_version": "' + device.version + '", ' +
                    '"patform": "' + device.manufacturer + '", ' +
                    '"model": "' + device.modelName + '", ' +
                    '"device_id": "' + device.serialNumber + '", ' +
                    '"firmware": "' + device.swVersion + '", ' +
                    '"hardware": "' + device.hwVersion + '", ' +
                    '"sdk_version": "' + device.SDKVersion + '", ' +
                    '"screen_resolution": "' + device.osdResolution + '", ' +
                    '"network_type": "' + device.networkType + '", ' +
                    '"network_mac_address": "' + device.net_macAddress + '", ' +
                    '"support_mouse": "' + device.supportMouse + '", ' +
                    '"support_voicerecog": "' + device.supportVoiceRecog + '", ' +
                    '"support_pentouch": "' + device.supportPentouch + '", ' +
                    '"mode_3d": "' + device.support3D + '", ' +
                    '"support_3dmode": "' + device.support3DMode.from_2d_to_3d + '", ' +
                    '"support_3dmode": "' + device.support3DMode.side_by_side + '", ' +
                    '"support_3dmode": "' + device.support3DMode.side_by_side_rl + '", ' +
                    '"support_3dmode": "' + device.support3DMode.top_bottom + '", ' +
                    '"support_3dmode": "' + device.support3DMode.checker_bd + '", ' +
                    '"preferred_subtitle_language": "' + device.preferredSubtitleLanguage + '", ' +
                    '"preferred_audio_language": "' + device.preferredAudioLanguage + '", ' +
                    '"preferred_subtitles_tatus": "' + device.preferredSubtitleStatus + '", ' +
                    '"language": "' + device.tvLanguage2 + '", ' +
                    '"country": "' + device.tvCountry2 + '", ' +
                    '"timezone": "' + device.timeZone + '", ' +
                    '"device_platform": "' + device.platform + '", ' +
                    '"chipset": "' + device.chipset + '"'
                    + '}';
            }
            else
            {
                return alert('Failed to get device!');
            }

            deviceIdInput.value = deviceId;
            userAgentInput.value = navigator.userAgent;

            form.submit();
        }
    </script>
</body>
</html>